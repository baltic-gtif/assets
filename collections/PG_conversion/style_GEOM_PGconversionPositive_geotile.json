{
  "legend": [
    {
      "title": "Converted to PG from 2024 to 2025:",
      "range": ["#f47336", "#f1c232", "#8b8c89", "#c90076"],
      "domain": ["Converted area", "Partially Converted", "Complexe Change", "New PG declared"],
      "scaleType": "categorical",
      "markType": "rect",
      "boundTo": { "key": "metric", "value": "source_file" }
    },
    {
      "title": "Conversion of (diverse categories) parcel (2024) into Permanent Grassland parcel (2025):",
      "range": ["#6a329f", "#274e13", "#bf9000", "#d4fa43", "#a64d79", "#00fff7", "#bcbcbc"],
      "domain": ["Arable Land to PG", "Forest to PG", "Permanent Crop to PG", "Temporary Grassland to PG", "S-Vicia to PG", "Wetland to PG", "No Category to PG"],
      "scaleType": "categorical",
      "markType": "rect",
      "boundTo": { "key": "metric", "value": "classification_year_x1" }
    }
  ],

  "stroke-width": 1.2,
  "stroke-color": "#62b83d",

  "jsonform": {
    "type": "object",
    "title": "Data configuration",
    "properties": {
      "metric": {
        "title": "Metric",
        "type": "string",
        "enum": [
            "classification_year_x1", 
            "source_file"],
        "options": {
          "enum_titles": [
              "Previous Land Use - 2024 (Thematic)", 
              "PG changes - 2025 (Geometric)"]
        },
        "default": "classification_year_x1"
      }
    }
  },

  "fill-color": [
    "case",

    ["==", ["var", "metric"], "source_file"],
    [
      "case",
      ["!", ["get", "source_file"]], [0, 0, 0, 0],
      ["==", ["get", "source_file"], "one_to_one"], "#f47336",
      ["==", ["get", "source_file"], "new"], "#c90076",
      ["==", ["get", "source_file"], "disappeared"], "#f47336",
      ["==", ["get", "source_file"], "only_merges"], "#f47336",
      ["==", ["get", "source_file"], "only_splits"], "#f1c232",
      ["==", ["get", "source_file"], "other_changes"], "#8b8c89",
      ["==", ["get", "source_file"], "union_other_changes_converted"], "#8b8c89",
      [0, 0, 0, 1]
    ],

    ["==", ["var", "metric"], "classification_year_x1"],
    [
      "case",
      ["!", ["get", "classification_year_x1"]], [0, 0, 0, 0],
      ["==", ["get", "classification_year_x1"], "AL"], "#6a329f",
      ["==", ["get", "classification_year_x1"], "F"], "#274e13",
      ["==", ["get", "classification_year_x1"], "PC"], "#bf9000",
      ["==", ["get", "classification_year_x1"], "TG"], "#d4fa43",
      ["==", ["get", "classification_year_x1"], "S"], "#a64d79",
      ["==", ["get", "classification_year_x1"], "W"], "#00fff7",
      ["==", ["get", "classification_year_x1"], "No category"], "#bcbcbc",
      [0, 0, 0, 1]
    ],
    [215, 235, 215, 0.25]
  ],

  "tooltip": [
    { "id": "id_year_x", "title": "Internal ID - 2025" , "decimals": 0},
    { "id": "id_year_x1", "title": "Internal ID - 2024" , "decimals": 0},
    { "id": "psl_kodas_year_x1", "title": "Type - 2024" },
    { "id": "psl_kodas_year_x", "title": "Type - 2025" },
    { "id": "classification_year_x1", "title": "Category - 2024" },
    { "id": "classification_year_x", "title": "Category - 2025" },
    { "id": "source_file", "title": "Evolution - Geometric" },
    { "id": "area_ha_year_x", "title": "Parcel area (ha)", "decimals": 1 }
  ],

  "variables": {
    "metric": "classification_year_x1"
  }
}
